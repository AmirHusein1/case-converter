<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="stylesheet" type="text/css" href="style.css">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h1>Case Converter</h1>
    <form>
        <textarea name="Text" id="case"></textarea>
    </form>
    <button onclick="uppFunc()">Upper Case</button>
    <button onclick="lowFunc()">Lower Case</button>
    <button onclick="propFunc()">Proper Case</button>
    <button onclick="sentFunc()">Sentence Case</button>
    <button onclick="saveFunc()">Save Text File</button>
    <script>
        function uppFunc() {
            let x = document.getElementById("case")
            let m = x.value;
            x.value = m.toUpperCase()
        }
        
        function lowFunc() {
            let x = document.getElementById("case")
            let m = x.value;
            x.value = m.toLowerCase()
        }
        function propFunc() {
            let x = document.getElementById("case")
            let m = x.value;
            x.value = m.toLowerCase().replace(/^(.)|\s+(.)/g, function (x) { return x.toUpperCase() })
        }
        function sentFunc() {
            let x = document.getElementById("case")
            let m = x.value;
            x.value = m.toLowerCase().replace(/^(.)|\.(\s(.))/g, function (x) { return x.toUpperCase() })
        }
        function saveFunc() {
            let x = document.getElementById("case")
            let m = x.value
            let blob = new Blob([m], { type: "text/plain" })
            let link = document.createElement("a")
            link.setAttribute("href", URL.createObjectURL(blob))
            link.setAttribute("download", "my-text.txt")
            link.click()
        }
    </script>
</body>

</html>